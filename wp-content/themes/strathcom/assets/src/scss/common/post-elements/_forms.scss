// // ==========================================================================
// // Common forms styling (Gravity Forms styling overrides).
// // ==========================================================================

.gform_wrapper ul {

	@include reset-list;
}

.gform_body {
	margin: $spacer auto;
}

.gfield {
	margin-bottom: 1rem;

	.clear-multi {

		@include clearfix;
	}
}

.ginput_container {
	> input:not([type=file]),
	textarea,
	select {

		@extend .form-control;
	}
}
// Titles & labels.
// ==========================================================================

.gform_title,
.gsection_title {
	margin-bottom: $spacer;
	padding-bottom: $spacer;
	border-bottom: $hr-border-width solid $hr-border-color;

	& + .gform_description {
		display: block;
		margin-bottom: $spacer;
	}
}

.gform_body {
	label {
		display: block;
		margin: .5rem 0;
	}
}

.gfield_label {
	font-size: 1.25rem;
	padding-bottom: .25rem;
	width: 100%;
	color: $gray-dark;
}

.gfield_description {

	@extend .text-muted;
	@extend .small;
	margin-top: .25rem;

	.gfield_label + & {
		margin-top: -.5rem;
		margin-bottom: .5rem;
	}
}
// Validation.
// ==========================================================================

.gfield_required {
	padding-left: .25em;
	color: $brand-danger;
}

@mixin gform-validation-message($color) {
	margin: #{$spacer * 2} auto;
	padding: #{$spacer * 2};
	text-align: center;
	font-size: $font-size-lg;
	font-weight: bold;
	color: $color;
	background-color: mix($color, #fff, 10%);
	border: $hr-border-width solid mix($color, #fff, 20%);

	.group-sidebar & {
		margin: $spacer auto;
		padding: #{$spacer / 2} $spacer;
		font-size: $font-size-base;
	}
}

form > .validation_error {

	@include gform-validation-message($brand-danger);
}

.gform_confirmation_wrapper {

	@include gform-validation-message($brand-success);
}

.gfield_error {
	padding: #{$spacer / 2} $spacer;
	color: $brand-danger;
	background-color: mix($brand-danger, #fff, 10%);
	border: $hr-border-width solid mix($brand-danger, #fff, 20%);

	label {
		color: $brand-danger;
	}

	.gfield_label,
	.gfield_description {
		font-weight: bold;
		color: $brand-danger;
	}

	.ginput_container {
		input:not([type=file]),
		textarea,
		select {
			border-color: $brand-danger;
		}
	}
}
// Radios & Checkboxes.
// ==========================================================================

.gfield_radio > li {

	@extend .radio;
}

.gfield_checkbox > li {

	@extend .checkbox;
}

.gfield_radio,
.gfield_checkbox {
	> li input[type="text"] {

		@extend .form-control;
		position: relative;
		top: -.25rem;
		width: auto;
		margin-left: 1.25rem;
	}
}

.ginput_container_radio,
.ginput_container_checkbox {
	& + .gfield_description {
		margin-top: -.5rem;
	}
}

.gfield_radio > li input[type="radio"],
.gfield_checkbox > li input[type="checkbox"] {
	margin-left: 0;
}

.gform_body,
.gfield_radio > li,
.gfield_checkbox > li {
	input[type="checkbox"],
	input[type="radio"] {
		float: left;
		position: relative;
		top: 0.5rem;
		margin-top: 0;
		margin-right: 0.5rem;
	}
}
// Complex fields.
// ==========================================================================

.ginput_complex {

	@include clearfix;
	margin-left: -.5rem;
	margin-right: -.5rem;

	> span {
		float: left;
		display: block;
		padding: 0 .5rem;

		> input {

			@extend .form-control;
		}
	}

	& + .gfield_description {
		margin-top: -.25rem;
	}

	.gfield_contains_required & label::after {

		@extend .gfield_required;
		content: "*";
	}

	@for $i from 3 through 6 {
		&.gf_has_#{$i} > span,
		&.gf_name_has_#{$i} > span {
			width: #{100% / $i};
		}
	}

	&.gf_has_2 > span,
	&.gf_name_has_2 > span,
	> span.ginput_left,
	> span.ginput_right {
		width: 100%;

		@include media-breakpoint-up(md) {
			width: 49%;
		}
	}

	.ginput_full {
		width: 100%;
		float: none;
	}
}
// 'Time' complex field.
// ==========================================================================

.ginput_container_time {
	position: relative;
	width: rem(50);
	float: left;

	&.gfield_time_ampm {
		width: rem(70);
	}

	input {
		text-align: center;
	}

	i {
		display: block;
		width: 1rem;
		position: absolute;
		top: 0;
		right: -1rem;
		font-style: normal;
		line-height: 2.2;
		text-align: center;
	}

	& + & {
		margin-left: 1rem;
	}
}
// 'Date' field.
// ==========================================================================

.ginput_container.ginput_container_date {
	position: relative;
	width: 50%;
	padding-right: 1rem;

	// Date as 3 dropdowns.
	.clear-multi {
		.ginput_container_date {
			width: 33.33333%;
			float: left;
			padding-right: 0;

			& + .ginput_container_date {
				padding-left: 1rem;
			}
		}
	}

	// Datepicker.
	> .datepicker + .ui-datepicker-trigger {
		position: absolute;
		z-index: 1;
		top: rem(8);
		right: 1rem;
		margin-right: rem(8);
	}
}
// Datepicker.
// ==========================================================================

body #ui-datepicker-div {
	border: none;
	background-color: $body-bg;
	box-shadow: 1px 1px 2px 2px rgba(0, 0, 0, .05);

	%date-cell {
		display: block;
		width: rem(35);
		height: rem(35);
		line-height: rem(35);
		text-align: center;
	}

	.ui-datepicker-header {
		padding: rem(10) rem(15);
		color: #fff;
		background-color: $gray-dark;

		a {
			color: #fff;

			@include hover-focus {
				color: $gray-lighter;
			}
		}
	}

	.ui-datepicker-prev,
	.ui-datepicker-next {
		position: absolute;
		top: rem(10);
		width: rem(30);
		height: rem(30);
		text-align: center;

		&::after {

			@include fa-icon;
			position: absolute;
			top: 50%;
			left: 0;
			width: 100%;
			margin-top: -7px;
		}

		&::before {
			content: "";
			position: absolute;
			width: 100%;
			height: 100%;
			top: 0;
			left: 0;
			opacity: 0;
			background-color: rgba(#000, .5);
			border-radius: 99%;
			transition: opacity $transition-base;
		}

		@include hover-focus {
			&::before {
				opacity: 1;
			}
		}

		> span {
			display: none;
		}
	}

	.ui-datepicker-prev {
		left: rem(5);

		&::after {
			content: $fa-var-chevron-left;
		}
	}

	.ui-datepicker-next {
		right: rem(5);

		&::after {
			content: $fa-var-chevron-right;
		}
	}

	.ui-datepicker-year,
	.ui-datepicker-month {
		display: inline-block;
		width: auto;
		margin-top: rem(2);
		color: #fff;
		background-color: transparent;
	}

	.ui-datepicker-title {

		@include clearfix;
		padding-left: rem(30);
		padding-right: rem(30);
		text-align: center;

		.ui-datepicker-year,
		.ui-datepicker-month {
			border: 1px solid $gray-lighter;
			border-radius: 0;
			background-color: $gray-dark;
		}
	}

	.ui-datepicker-year {
		margin-left: 1rem;
	}

	.ui-datepicker-calendar {
		border-collapse: collapse;

		td,
		th {
			position: relative;
			width: auto;
			height: auto;
			border: $hr-border-width solid $gray-lighter;
		}

		td > a {

			@extend %date-cell;
			color: $body-color;
			transition: color $transition-base, background-color $transition-base;

			@include hover-focus {
				color: $body-color;
				background-color: $gray-lighter;
				border-color: mix($gray-lighter, #000, 90%);
				text-decoration: none;
			}
		}

		th {
			background-color: $gray-lighter;
			border-color: mix($gray-lighter, #000, 90%);
		}

		th > span {

			@extend %date-cell;
		}

		td.ui-datepicker-today > a {
			font-weight: bold;
		}

		td.ui-datepicker-current-day {
			border: $hr-border-width solid $gray-lighter;

			> a,
			> a:hover,
			> a:focus {
				color: #fff;
				background-color: none;

				&::after {
					content: "";
					position: absolute;
					width: 90%;
					height: 90%;
					top: 5%;
					left: 5%;
					z-index: -1;
					background-color: $gray-dark;
					border-radius: 99%;
				}
			}
		}
	}
}
// Input lists.
// ==========================================================================

.ginput_container_list {
	input {

		@extend .form-control;
	}

	table {
		width: 100%;
	}

	tr + tr > td {
		padding-top: .5rem;
	}

	.gfield_list_icons {
		width: rem(50);
	}
}
// Buttons.
// ==========================================================================

.gform_button {

	@extend .btn;
	@extend .btn-primary;
}
// Custom forms.
// ==========================================================================

%custom-input {
	position: relative;
	cursor: pointer;

	> input {
		position: absolute;
		z-index: -1; // Put the input behind the label so it doesn't overlay text
		opacity: 0;
	}

	&.radio + .radio {
		margin-top: 0;
	}
}

label {
	.required &::after {

		@extend .gfield_required;
		content: "*";
	}

	&.checkbox {
		padding-left: $spacer * 1.5;
		cursor: pointer;
	}
}

input[type="text"],
textarea,
select {
	&.form-control {
		line-height: 1.3;
		box-shadow: inset 0 1px 2px rgba(#000, .15);
		border-top-color: darken($input-border-color, 5%);
		border-left-color: darken($input-border-color, 5%);
		transition: border-color $transition-fast, box-shadow $transition-fast;
	}
}

select.form-control:not([multiple]) {
	padding: $input-padding-y $input-padding-x;
	border-radius: 0;
	background: #fff url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAARCAYAAADpPU2iAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAK1JREFUeNpi/P//PwM6mDhxogKQ+pCfn/8BXY4RXQNQsQGQ2g/lOgI1XcCpAUmxAFToA7omuAYsihmwaQJrwKMYQxOzoKAgIcUgwAHEESdPntzJBGTUE1AMAyA1+SxAIhHkBQbiwAVGbPGAD5CuYcKECfOBdAKR6ieAPL2RSMWgoF0IiweQDfMJKAbHA3JM49KEGdNIaQldE+60hEXTB4KpFUmTAzQ/XECXAwgwALumaezUc1J5AAAAAElFTkSuQmCC") no-repeat right 0.75rem center;
	-webkit-appearance: none;
}

textarea {
	max-height: 7em;
}

fieldset {
	& + & {
		margin-top: $spacer / 2;
	}
}
// Custom checkbox/radio list.
// ==========================================================================

.custom-checkbox-list,
.custom-radio-list {
	p {
		position: relative;
	}

	input {
		position: absolute;
		z-index: 0;
		visibility: hidden;
	}

	label {

		@extend .btn;
		@extend .btn-block;
		@extend .btn-primary;
		position: relative;
		z-index: 1;
		transition: background-color $transition-fast, color $transition-fast, border-color $transition-fast;
		font-size: $font-size-sm;
		font-style: normal;

		&:hover,
		&:focus {
			background-color: darken($btn-primary-bg, 10%);
			border-color: darken($btn-primary-bg, 10%);
		}
	}
}
// Custom range slider (rangeslider.js plugin).
// ==========================================================================

.rangeslider {
	position: relative;
	width: 100%;
	height: rem(10);
	background: $gray-lighter;
}

.rangeslider__fill {
	position: absolute;
	top: 0;
	height: 100%;
	background: darken($gray-lighter, 7%);
	box-shadow: inset rem(-10) 0 0 $gray-lighter;
	transition: width 10ms $transition-easing;
}

.rangeslider__handle {
	$handle-width: 12px;
	$handle-height: 28px;
	position: absolute;
	display: block;
	top: -$handle-height / 1.8;
	right: 0;
	bottom: 0;
	left: 0;
	cursor: pointer;
	display: inline-block;
	width: $handle-width;
	height: $handle-height * 3 / 4;
	margin-bottom: $handle-height / 4;
	touch-action: pan-y;
	transition: left 10ms $transition-easing;

	&::after {
		$arrow-head-size: $handle-width * 1.1;
		content: "";
		position: absolute;
		left: 0;
		bottom: -$handle-width / 2;
		display: block;
		width: $arrow-head-size;
		height: $arrow-head-size;
		background-color: $brand-primary;
		transform-origin: #{$handle-width / 2} #{$handle-width / 2};
	}
}
